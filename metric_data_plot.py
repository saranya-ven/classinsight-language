import numpy as np 
import matplotlib.pyplot as plt 

def plot_metric_by_data_size(metric_label, metric_values, n_data,class_label, directory_path="plots/performance_vs_datasize"):
    plt.figure(metric_label)
    plt.plot(n_data, metric_values, marker='.', label=class_label)
    plt.title("Performance Vs Training Data Size")
    plt.xlabel('Percentage of Data Samples')
    plt.ylabel(metric_label)
    plt.legend()
    plt.savefig(directory_path+'/percent_data_'+metric_label+'_plot.png')

def plot_metric_by_data_size_vs_embedding_type(metric_label,category_label, metric_values, n_data ,embedding_type, directory_path="plots/performance_vs_datasize"):
    '''
    Plots a given metric vs datasize, and each time it is called, a new line is added corresponding to a new type embedding
    This method exploits the fact that using plt.figure() we can add stuff to the same figure as long as the name is the same
    '''
    plt.figure(metric_label+category_label,figsize=(20,10))
    plt.plot(n_data, metric_values, marker='.', label=embedding_type)
    plt.xlabel('Percentage of Data Samples')
    plt.ylabel(metric_label)
    plt.title(category_label)
    plt.legend()
    plt.savefig(directory_path+'/percent_data_'+metric_label+"_"+category_label+'_plot.png')
    
def get_bar_plots_grouped_embeddingtype(metric_label,all_data,group_labels,embedding_types,folder_path="plots"):
    #width=0.5 #use this when using onlyembeddings, to get thinner bars and more space
    width = 0.1  # the width of the bars #this is when not using onlyembeddings
    
    
    ind = np.arange(len(group_labels))  # the x locations for the groups
    indices_all=[ind]
    for sublist in np.arange(len(all_data)-1):
        new_indices=np.array([x + width for x in indices_all[sublist]])
        indices_all.append(new_indices)
            
    fig, ax = plt.subplots(figsize=(20,10))
    rects_all=[]
    for data_list,label_type,indices in zip(all_data,embedding_types,indices_all):
        rects_all.append(ax.bar(indices - width/2,data_list, width, label=label_type))
    
    # Add some text for labels, title and custom x-axis tick labels, etc.
    ax.set_ylabel(metric_label)
    ax.set_title(metric_label+' by UtteranceType and Embedding')
    
    ax.set_xticks([r + width*int(len(embedding_types)/2) for r in range(len(ind))]) #put the xticks at the center of each group 
    ax.set_xticklabels(utt_types)
    ax.legend()

    def autolabel(rects, xpos='center'):
        """
        Attach a text label above each bar in *rects*, displaying its height.
    
        *xpos* indicates which side to place the text w.r.t. the center of
        the bar. It can be one of the following {'center', 'right', 'left'}.
        """
    
        ha = {'center': 'center', 'right': 'left', 'left': 'right'}
        offset = {'center': 0, 'right': 1, 'left': -1}
    
        for rect in rects:
            height = rect.get_height()
            ax.annotate('{:.2f}'.format(height),
                        xy=(rect.get_x() + rect.get_width() / 2, height),
                        xytext=(offset[xpos]*3, 3),  # use 3 points offset
                        textcoords="offset points",  # in both directions
                        ha=ha[xpos], va='bottom')
    
    for rect in rects_all:autolabel(rect,"center")
    fig.tight_layout()
    plt.savefig(folder_path+"/"+metric_label+".png")    

if __name__ == "__main__":
    # --------Example Use----------
    #===========================================================================
    # a = [2,4,5,6]
    # b = [8,8,8,5]
    # c = [4,6,9,9]
    # name = "AUC"
    # class_label="Open Questions"
    # plot_metric_by_data_size(name, a, b,class_label)
    # 
    # plot_metric_by_data_size_vs_embedding_type(name, class_label, b, a, "emb1")
    # plot_metric_by_data_size_vs_embedding_type(name, class_label, c, a, "emb2")
    #===========================================================================
    #no shuffle only 2019 data
    #all_f1=[[0.6545454545454547, 0.45833333333333326, 0.3724137931034483, 0.6218487394957983, 0.5309090909090909, 0.4117647058823529, 0.6515151515151516, 0.41379310344827586, 0.4663212435233161, 0.36363636363636365], [0.6027397260273972, 0.4444444444444445, 0.4475524475524475, 0.6096654275092938, 0.54, 0.5405405405405405, 0.7142857142857144, 0.46774193548387094, 0.49593495934959353, 0.4444444444444444], [0.3137254901960784, 0.07692307692307691, 0.13032581453634084, 0.2844444444444444, 0.16315789473684209, 0.024691358024691357, 0.07317073170731707, 0.19689119170984457, 0.18122977346278316, 0.21052631578947367], [0.7042253521126761, 0.46808510638297873, 0.40740740740740744, 0.6171875, 0.5106382978723405, 0.5, 0.7304347826086957, 0.46956521739130436, 0.5494505494505495, 0.4705882352941177], [0.36065573770491804, 0.1095890410958904, 0.1607142857142857, 0.3758865248226951, 0.1804878048780488, 0.06593406593406594, 0.08664259927797834, 0.17266187050359713, 0.2167832167832168, 0.23076923076923075], [0.6956521739130435, 0.48148148148148157, 0.48437499999999994, 0.6276150627615062, 0.5615384615384615, 0.4166666666666667, 0.7326732673267328, 0.5037037037037037, 0.5394736842105263, 0.4615384615384615], [0.5090909090909091, 0.11111111111111113, 0.288, 0.4273504273504274, 0.23456790123456792, 0.12658227848101267, 0.13636363636363635, 0.2456140350877193, 0.2206896551724138, 0.25], [0.6774193548387096, 0.4705882352941177, 0.42372881355932196, 0.6209677419354839, 0.5198776758409785, 0.5142857142857142, 0.6722689075630252, 0.432, 0.5111111111111111, 0.5], [0.37735849056603776, 0.13793103448275862, 0.24657534246575344, 0.3548387096774193, 0.22535211267605634, 0.0, 0.09615384615384616, 0.12302839116719241, 0.21276595744680848, 0.1818181818181818], [0.6896551724137931, 0.4313725490196078, 0.47482014388489213, 0.6337448559670782, 0.5806451612903225, 0.5, 0.7115384615384615, 0.48951048951048953, 0.5813953488372093, 0.4347826086956522], [0.4074074074074074, 0.1875, 0.2892561983471075, 0.5217391304347826, 0.33707865168539325, 0.2222222222222222, 0.2201834862385321, 0.28421052631578947, 0.3259911894273128, 0.4], [0.6885245901639345, 0.5357142857142857, 0.5255474452554745, 0.6693548387096774, 0.5827814569536424, 0.42105263157894735, 0.7130434782608696, 0.5, 0.553191489361702, 0.39999999999999997], [0.5185185185185185, 0.20588235294117646, 0.3768115942028985, 0.5737704918032788, 0.37638376383763833, 0.21212121212121215, 0.27184466019417475, 0.2767295597484277, 0.29411764705882354, 0.36363636363636365]]
    #all_auc=[[0.6263609284856984, 0.27372043408627483, 0.23583689620407913, 0.6749062987188698, 0.5135845819916438, 0.21369027188692158, 0.7030054174142045, 0.4504415488384833, 0.3451113802566708, 0.4218963514998322], [0.4958271788171767, 0.3018409595039662, 0.2931444113274104, 0.7235584556103586, 0.5384159070481306, 0.2707098552156372, 0.713521923608048, 0.45059637881819953, 0.4054238852896813, 0.42021484620037886], [0.13724229633133259, 0.04526266723908988, 0.04628407493673309, 0.27230002184179847, 0.08834917887590146, 0.015046553051944841, 0.03374772311848136, 0.11307122576711484, 0.08350995862225609, 0.0986410560241023], [0.6702419698855899, 0.3533262589447408, 0.3308994271021133, 0.7252649150418514, 0.5651607506238187, 0.2300187768050982, 0.6613760471232726, 0.47964011185716915, 0.4141031753593629, 0.4330708267989306], [0.24103009459744967, 0.08925079439830368, 0.059865503307363704, 0.35761691852597566, 0.11301717791083361, 0.017620203735754316, 0.06450279014510352, 0.17870934824306367, 0.09566433982350749, 0.05531995391056084], [0.6263697351359839, 0.36275423706252274, 0.40518346995776744, 0.7682552115126083, 0.5695991005540758, 0.273971417396041, 0.6693515819563758, 0.471521119562856, 0.44472453969176917, 0.4304480427583498], [0.2462844542407228, 0.08435598967816399, 0.1452848075291513, 0.4478746930393055, 0.2267807959273842, 0.036154499275359464, 0.08017962140335337, 0.1865385277273698, 0.12259732353680873, 0.07966647988030943], [0.6212613282665076, 0.32178294396750096, 0.3010093768452388, 0.718607690281798, 0.5684014202983243, 0.23418830001741614, 0.7166910496059546, 0.4677192320454605, 0.4351561328081617, 0.5784853532645979], [0.1532273039943155, 0.08080347041941423, 0.08235454048705111, 0.42298342704693426, 0.23651933385427723, 0.024567121317962716, 0.05595293280147628, 0.12163842762696847, 0.10464902749227017, 0.06268520752898697], [0.6875862606994763, 0.3295755759459211, 0.35991798108080986, 0.7771311130263912, 0.5927914726593079, 0.2553629224052405, 0.755013843091279, 0.4974258852210202, 0.5094354080523303, 0.5108451258725132], [0.2934977825112584, 0.11688291738510842, 0.13468834796486928, 0.5898635434599082, 0.3102627327781238, 0.07336840719366917, 0.1841861247505382, 0.20546799789690817, 0.2243794433352923, 0.12990006732427628], [0.6055577363187261, 0.40569644623927764, 0.43314843101910555, 0.8053042712475941, 0.6151170605277501, 0.27813643928092835, 0.7395887691627253, 0.48892595828905555, 0.5674972107881929, 0.5483164121819583], [0.23284888744614277, 0.12150185916391779, 0.24850951136261545, 0.6575387285039463, 0.31901097044242266, 0.0886209315181321, 0.20507110264528422, 0.1958279973938409, 0.2546016376421548, 0.12615621726991025]]
    #no shuffled all data feb25
    #all_f1=[[0.6250000000000001, 0.3636363636363637, 0.37869822485207105, 0.5490196078431373, 0.6357142857142857, 0.41379310344827586, 0.5789473684210525, 0.42352941176470593, 0.4336283185840708, 0.0], [0.6486486486486486, 0.4117647058823529, 0.45901639344262296, 0.5378590078328981, 0.6323809523809524, 0.46153846153846156, 0.5864661654135339, 0.5347222222222222, 0.4714285714285714, 0.36363636363636365], [0.32911392405063294, 0.09133858267716535, 0.06829268292682926, 0.21714285714285714, 0.20656136087484814, 0.01967213114754099, 0.06806282722513089, 0.26666666666666666, 0.13578500707213578, 0.125], [0.6842105263157895, 0.4285714285714286, 0.46948356807511743, 0.581039755351682, 0.6307977736549165, 0.37499999999999994, 0.6231884057971014, 0.5641025641025641, 0.44285714285714284, 0.2], [0.38961038961038963, 0.11834319526627218, 0.13846153846153844, 0.367816091954023, 0.22222222222222218, 0.050505050505050504, 0.11209439528023597, 0.34928229665071775, 0.18879056047197643, 0.15384615384615383], [0.6666666666666666, 0.3578947368421052, 0.4752475247524752, 0.5798816568047337, 0.6486486486486486, 0.4444444444444445, 0.5892857142857143, 0.5797101449275364, 0.4444444444444445, 0.22222222222222224], [0.4594594594594595, 0.07407407407407408, 0.21666666666666667, 0.4064665127020785, 0.3164556962025316, 0.0, 0.10491803278688525, 0.365979381443299, 0.22142857142857142, 0.2857142857142857], [0.606060606060606, 0.40860215053763443, 0.41304347826086957, 0.5612903225806452, 0.6274509803921569, 0.4482758620689655, 0.5777777777777777, 0.4602510460251046, 0.46923076923076923, 0.22222222222222224], [0.34146341463414637, 0.14285714285714288, 0.18867924528301888, 0.3463687150837989, 0.3304042179261863, 0.09708737864077668, 0.1180327868852459, 0.16358024691358025, 0.18082191780821918, 0.13333333333333333], [0.6486486486486486, 0.40909090909090906, 0.4878048780487805, 0.5655172413793103, 0.6574870912220311, 0.44897959183673475, 0.6470588235294118, 0.5469387755102041, 0.4919786096256684, 0.22222222222222224], [0.4761904761904762, 0.25438596491228066, 0.31746031746031744, 0.5040214477211796, 0.41883116883116883, 0.0821917808219178, 0.26865671641791045, 0.3132530120481927, 0.2641509433962264, 0.13333333333333333], [0.7027027027027027, 0.441860465116279, 0.5294117647058824, 0.5928571428571429, 0.6702317290552584, 0.28571428571428575, 0.6382978723404256, 0.5925925925925926, 0.5139664804469274, 0.22222222222222224], [0.4943820224719102, 0.24000000000000002, 0.34123222748815163, 0.5236768802228412, 0.4498381877022654, 0.06153846153846155, 0.26666666666666666, 0.3804627249357327, 0.3111111111111111, 0.125]]
    #all_auc=[[0.6863810863069396, 0.3849974269445806, 0.32954945976357713, 0.5947668868593925, 0.5723840316818639, 0.22563401666266927, 0.5909908430476312, 0.3985310101745196, 0.3340213022705155, 0.6694651204292161], [0.6937158786240744, 0.317261546904865, 0.4026515056262687, 0.6169035735898715, 0.5752504169220162, 0.3035635564700397, 0.6380324769483232, 0.44473313781642887, 0.41057482014423863, 0.7263339456596035], [0.2504533076670446, 0.024498795671534786, 0.07049379151074663, 0.22304720949151588, 0.1096157981773355, 0.01323888656259417, 0.03741107100411534, 0.12140112570950927, 0.0694136758850967, 0.18090541981048197], [0.6849937422442502, 0.27540225103419547, 0.3913132645337081, 0.6356699532946765, 0.6027700013341292, 0.2821951296264187, 0.6816042731369392, 0.4720365806945078, 0.4692780893390175, 0.8100237624694147], [0.2786709268860246, 0.033146506891696764, 0.09199071161064702, 0.29519661755737986, 0.14751381059113433, 0.015247197641952256, 0.046925418431973745, 0.17735459628572767, 0.08327157985525546, 0.3722291036162957], [0.711290310328366, 0.3421542767933314, 0.45428328506546845, 0.6535393921910763, 0.615643644087191, 0.2816094931084737, 0.7086229234016043, 0.48615171195594575, 0.49669766847530644, 0.8304489010516487], [0.3620173799103026, 0.04643474485528923, 0.14949161874797773, 0.3724847433639914, 0.22828485250247021, 0.031063846657341326, 0.09061764035744894, 0.22390136062099705, 0.13819561628732852, 0.5253458000333], [0.7239059524931878, 0.2922593809472963, 0.4253664079439695, 0.6250551324926196, 0.611440074520482, 0.2962212762520712, 0.6261077489382846, 0.44720736800791683, 0.4356744482037976, 0.8158877696377697], [0.29788202892021876, 0.03438030931867449, 0.14102579136097151, 0.31765863298483926, 0.2119581975574957, 0.01649877204822133, 0.06729905532482952, 0.1052318306255426, 0.08644360404593963, 0.2623949541262665], [0.7596521804766464, 0.3364229159776035, 0.5099177204667973, 0.6825971272811733, 0.6430490789754154, 0.29950066442296097, 0.6966382222071831, 0.5304851250901776, 0.5029882713876319, 0.8337147215865752], [0.5482132670169622, 0.06979549972668392, 0.24847499903354872, 0.49859346891868794, 0.37076959102353085, 0.06865425585009349, 0.24199873900139177, 0.2398700049204612, 0.2219308685686507, 0.7297642730832387], [0.7478016275264701, 0.3641758659796382, 0.5127216595104667, 0.6963382058506842, 0.6305846916748468, 0.36999390705445195, 0.7091107337021026, 0.5302200007813536, 0.5324035704374119, 0.8495129870129869], [0.5930636264306195, 0.10997859261112464, 0.2571969831723111, 0.5547556724370993, 0.3897543781856982, 0.09441578851536332, 0.27051188269370907, 0.24890367751973, 0.23152088359208275, 0.7549385663356252]]
    #shuffled all data feb25
    #all_f1=[[0.6849315068493151, 0.4615384615384615, 0.35807860262008734, 0.5829145728643216, 0.6031195840554593, 0.4307692307692308, 0.6714285714285715, 0.39461883408071746, 0.4452054794520548, 0.47058823529411764], [0.7391304347826085, 0.36363636363636365, 0.43023255813953487, 0.6043956043956044, 0.5774946921443738, 0.5, 0.6131386861313868, 0.45685279187817257, 0.4242424242424242, 0.5333333333333333], [0.34, 0.0, 0.08333333333333334, 0.28957528957528955, 0.1885245901639344, 0.026666666666666672, 0.07262569832402234, 0.18214285714285713, 0.15862068965517243, 0.125], [0.6976744186046512, 0.38095238095238093, 0.5092592592592592, 0.6395348837209301, 0.5807692307692308, 0.4482758620689655, 0.6666666666666666, 0.4782608695652174, 0.5245901639344261, 0.6363636363636364], [0.4035087719298246, 0.1308411214953271, 0.13934426229508196, 0.3829787234042554, 0.2184873949579832, 0.015037593984962407, 0.05714285714285715, 0.23208191126279862, 0.14929214929214932, 0.14285714285714288], [0.5769230769230769, 0.4380952380952381, 0.5034965034965035, 0.5460526315789475, 0.5714285714285715, 0.3846153846153846, 0.647398843930636, 0.4953271028037383, 0.4802867383512544, 0.5454545454545454], [0.4307692307692308, 0.09677419354838711, 0.2583333333333333, 0.3878787878787879, 0.28951255539143284, 0.0784313725490196, 0.1904761904761905, 0.29607250755287007, 0.17737003058103978, 0.07999999999999999], [0.6813186813186813, 0.3838383838383838, 0.46835443037974683, 0.5706051873198847, 0.5253456221198156, 0.3333333333333333, 0.6289308176100629, 0.5328185328185329, 0.512280701754386, 0.39999999999999997], [0.39639639639639634, 0.07272727272727274, 0.2027972027972028, 0.3669724770642202, 0.27586206896551724, 0.033613445378151266, 0.11267605633802817, 0.16189536031589338, 0.2030981067125645, 0.08695652173913043], [0.6956521739130435, 0.44, 0.45614035087719296, 0.6298342541436465, 0.6613861386138613, 0.5277777777777778, 0.6716417910447761, 0.5703971119133574, 0.5691699604743082, 0.3333333333333333], [0.5172413793103449, 0.2413793103448276, 0.24193548387096772, 0.5161290322580645, 0.40104849279161203, 0.2018348623853211, 0.25, 0.3384615384615385, 0.26973684210526316, 0.15384615384615383], [0.617283950617284, 0.3870967741935484, 0.48818897637795283, 0.6144927536231883, 0.5928705440900562, 0.5084745762711865, 0.6308724832214765, 0.5703125, 0.5793650793650793, 0.25], [0.4477611940298507, 0.19130434782608696, 0.30769230769230776, 0.4666666666666667, 0.41101694915254244, 0.2181818181818182, 0.24074074074074078, 0.3374689826302729, 0.2857142857142857, 0.25]]
    #all_auc=[[0.7443269638729105, 0.4041065395117589, 0.3743146126422531, 0.500986491449944, 0.6456808716883291, 0.34022424946052027, 0.568686779315081, 0.44898247093153426, 0.325459886665995, 0.35703570138770635], [0.5890783985324949, 0.31378317750419704, 0.3881790876520578, 0.5303871325589739, 0.5353020752150998, 0.2916066742213776, 0.6946071680403116, 0.43725551971835697, 0.4772630036851166, 0.10177845528455284], [0.15350095016637133, 0.06993473589700473, 0.07474042203306078, 0.21712119513425718, 0.12002395374186987, 0.018051831571526324, 0.028032612272107064, 0.09285343123572061, 0.09531951452003905, 0.03604141570776309], [0.6306214204523005, 0.4295517332768265, 0.49478931702004897, 0.6208502857600263, 0.5492032167319846, 0.4170248018294614, 0.7310339759219645, 0.45051799382800817, 0.36467701221827137, 0.7056563118827364], [0.1648909994281836, 0.05913759297053864, 0.057384275904889946, 0.33203911677208536, 0.13516702469817474, 0.02396122103296923, 0.04079185594096542, 0.1781122406577625, 0.06749732105347687, 0.31861014532141385], [0.6479269102081325, 0.26804382001483607, 0.45828929475761504, 0.62298753826891, 0.5920239177910751, 0.27617279783925136, 0.7198899104034167, 0.5060065787664058, 0.519323081785752, 0.38059539579319196], [0.302644178911982, 0.061258972653640845, 0.17256614013278307, 0.3031627508288246, 0.2009166810778664, 0.08179570553735097, 0.0684944230206965, 0.17406439145002275, 0.16348304575003655, 0.026113777138952184], [0.8427225775177112, 0.4394755452545713, 0.432366378508016, 0.5541142278454756, 0.6297618650243422, 0.37857442431158544, 0.5714066727209778, 0.47226639391545205, 0.48629865706255354, 0.6319521010320985], [0.13546648195830982, 0.07089032147342386, 0.14851386636801342, 0.25671962516522956, 0.22519989520654654, 0.02389988908484862, 0.051092769367855714, 0.08324743258676132, 0.07121133447015815, 0.0368306499593667], [0.573211304711195, 0.4284710630342833, 0.5807895182198662, 0.5587181225511744, 0.6428741073595143, 0.5136303778806971, 0.7942268299931403, 0.5685322008887413, 0.5187617430794272, 0.4424162670144582], [0.26806643352209886, 0.22176900705797212, 0.3451043805627782, 0.389282728982883, 0.3332655850295521, 0.1689453675792382, 0.2124076157380668, 0.297619267347534, 0.15156448071969542, 0.23841304947534542], [0.7051691851044457, 0.38842279097252774, 0.4953165579037051, 0.657398277853149, 0.6596673878857112, 0.5864724858624487, 0.6285035703483073, 0.6056230894053142, 0.5848655673914168, 0.6812635154413178], [0.5531535452631711, 0.079191264216937, 0.29128905682905454, 0.563754995777368, 0.3719392492120175, 0.19318857704847214, 0.1934734634207515, 0.3094227074393766, 0.25291426878894624, 0.591594397031722]]
    #shuffled using 42 as random seed for splitting march2
    #all_f1=[[0.6739130434782609, 0.417910447761194, 0.4050632911392405, 0.5269461077844312, 0.5694444444444445, 0.5, 0.6352941176470589, 0.4236453201970443, 0.39593908629441626, 0.4], [0.6808510638297872, 0.360655737704918, 0.48309178743961345, 0.5370370370370371, 0.5729349736379613, 0.5333333333333333, 0.6666666666666666, 0.47500000000000003, 0.4626865671641791, 0.5000000000000001], [0.3764705882352941, 0.07894736842105263, 0.0782608695652174, 0.34156378600823045, 0.1716833890746934, 0.013071895424836602, 0.06544754571703561, 0.18262806236080179, 0.16252821670428894, 0.02564102564102564], [0.7045454545454546, 0.38961038961038963, 0.5, 0.5878962536023055, 0.6, 0.5714285714285714, 0.6444444444444444, 0.45454545454545453, 0.5101214574898786, 0.4], [0.4421052631578948, 0.0671462829736211, 0.13195876288659794, 0.3736263736263736, 0.19831223628691982, 0.0, 0.07327586206896552, 0.2549019607843137, 0.17374517374517373, 0.21428571428571427], [0.689655172413793, 0.43478260869565216, 0.5247524752475247, 0.6060606060606061, 0.5924528301886792, 0.5483870967741935, 0.6358381502890174, 0.5076923076923077, 0.460093896713615, 0.32000000000000006], [0.5416666666666666, 0.061224489795918366, 0.2559241706161137, 0.4450261780104712, 0.3013698630136986, 0.043478260869565216, 0.14563106796116504, 0.2974683544303798, 0.22160664819944598, 0.21428571428571427], [0.6947368421052631, 0.39473684210526316, 0.4545454545454546, 0.5985401459854014, 0.6008583690987124, 0.5483870967741935, 0.6358381502890174, 0.4774774774774775, 0.4396551724137931, 0.6666666666666665], [0.4473684210526316, 0.065359477124183, 0.15058823529411763, 0.4696969696969697, 0.26274509803921575, 0.0, 0.10465116279069768, 0.1331967213114754, 0.1829652996845426, 0.125], [0.6930693069306931, 0.42105263157894735, 0.54320987654321, 0.6318840579710145, 0.590818363273453, 0.606060606060606, 0.6626506024096386, 0.5287356321839081, 0.48927038626609437, 0.32000000000000006], [0.46956521739130436, 0.18487394957983191, 0.29729729729729726, 0.48749999999999993, 0.41935483870967744, 0.2222222222222222, 0.2689075630252101, 0.3118279569892473, 0.2517985611510791, 0.22222222222222218], [0.6730769230769231, 0.4411764705882353, 0.5662650602409638, 0.6514285714285714, 0.6250000000000001, 0.5714285714285714, 0.686046511627907, 0.5412844036697247, 0.4347826086956522, 0.47058823529411764], [0.5192307692307693, 0.1308411214953271, 0.31055900621118016, 0.5729166666666667, 0.47104247104247104, 0.24489795918367346, 0.2558139534883721, 0.3209876543209877, 0.29752066115702486, 0.2608695652173913]]
    #all_auc=[[0.6473947512062161, 0.38296449029934976, 0.3055207399649258, 0.5249188188224257, 0.5931521683050555, 0.2385340626801517, 0.7461190347299952, 0.4063295244166072, 0.4335349227755379, 0.44180065404642915], [0.6397488814875417, 0.38923839523285736, 0.340387060993916, 0.5409776375982862, 0.6185348211010451, 0.21483936318322358, 0.8290234385006624, 0.4865329017109927, 0.44588865370907094, 0.21045792903580327], [0.2517308367046166, 0.02689444023116064, 0.05907057668696115, 0.2400221727672984, 0.14322506235467783, 0.014839948498252441, 0.034925447786588876, 0.09548005214253383, 0.06448655591714679, 0.005955054214260771], [0.6745715954328402, 0.390256636182231, 0.37982625165472284, 0.5652107298800115, 0.6261287258303038, 0.22128837473716578, 0.8041799184257616, 0.4751276044105553, 0.4454549844256496, 0.3198966915468299], [0.2422619187335285, 0.03461878015289459, 0.0857807523632201, 0.29232618527350623, 0.21198269488810717, 0.05794363413617005, 0.05504992253922576, 0.1458318466352935, 0.07285103021770548, 0.015841467257154202], [0.6729361093906211, 0.385239842328851, 0.4621486213170908, 0.59222826969983, 0.612355192103985, 0.2265711548858485, 0.793915927523042, 0.516509706562424, 0.4937135912957962, 0.3791656717172333], [0.30204768717927155, 0.03997145952474336, 0.17897357734364297, 0.3615550217532059, 0.2424277581236113, 0.06375616053804059, 0.08315619083605943, 0.16394330606262283, 0.12406630131087086, 0.0492901506699372], [0.6736310622303818, 0.374462796761746, 0.3491174716680645, 0.5625476855592532, 0.6147215954913998, 0.22734915913635878, 0.7473661007666292, 0.45863206773128, 0.47044548222594845, 0.33376499963662104], [0.3412888361150603, 0.0322844564977224, 0.10833322294183814, 0.3320256133280336, 0.2637624670285376, 0.023856862236064, 0.09692324321608059, 0.09288379628688875, 0.074515563794047, 0.015203117180460359], [0.6796379992217212, 0.4630642991607396, 0.4763105410121452, 0.6649588067643407, 0.663079471360238, 0.2968054682144852, 0.7839761504300863, 0.5465866940198724, 0.5745219616159235, 0.31047219421887207], [0.46208155344510404, 0.14027924070552225, 0.2848611301215463, 0.5705270932100189, 0.38969484155018635, 0.07915645047262804, 0.17869234386530045, 0.23125175575636353, 0.17374893200578725, 0.0503292287082594], [0.6806994198124325, 0.47320470338267306, 0.5515986976209809, 0.6897733787371204, 0.6633811472824707, 0.29601369822256807, 0.7845712529242983, 0.5095215801691979, 0.5926224439377431, 0.2673756179961762], [0.47358281065782587, 0.19705096219995138, 0.3459780119503025, 0.5560242355546555, 0.4204144658083131, 0.03675846676667247, 0.18046553527071396, 0.1938843338647922, 0.16202014045039104, 0.026611872089433174]]
    #balanced datasets: takes longer and worse performance
    #all_f1=[[0.5957446808510638, 0.2857142857142857, 0.37037037037037035, 0.538860103626943, 0.5501618122977346, 0.417910447761194, 0.6206896551724138, 0.4263959390862944, 0.4112903225806452, 0.19047619047619047], [0.6326530612244898, 0.36, 0.4803921568627451, 0.544, 0.5476550680786686, 0.4848484848484849, 0.6161616161616161, 0.4474885844748859, 0.4409448818897638, 0.21428571428571427], [0.4418604651162791, 0.04687500000000001, 0.08832807570977919, 0.3151515151515152, 0.17042606516290726, 0.015503875968992248, 0.0632768361581921, 0.18032786885245902, 0.1647940074906367, 0.024922118380062305], [0.6170212765957447, 0.37837837837837834, 0.4579439252336448, 0.5642458100558658, 0.5645933014354068, 0.273972602739726, 0.5652173913043478, 0.45344129554655865, 0.45353159851301117, 0.3157894736842105], [0.3738317757009346, 0.05793103448275862, 0.1275626423690205, 0.34642032332563516, 0.19393939393939394, 0.0, 0.10666666666666666, 0.2444444444444445, 0.1676190476190476, 0.022988505747126436], [0.6279069767441862, 0.2950819672131147, 0.4705882352941177, 0.5698630136986301, 0.5579119086460033, 0.2456140350877193, 0.5660377358490566, 0.4930232558139535, 0.4444444444444444, 0.37499999999999994], [0.43956043956043955, 0.1, 0.22222222222222224, 0.44672131147540983, 0.2904290429042904, 0.05714285714285715, 0.12931034482758622, 0.28994082840236685, 0.23197492163009406, 0.07792207792207792], [0.6071428571428571, 0.3695652173913044, 0.4267782426778243, 0.5876288659793815, 0.5611015490533562, 0.35398230088495575, 0.5128205128205129, 0.4716981132075472, 0.44000000000000006, 0.6666666666666665], [0.38095238095238093, 0.08743169398907104, 0.18556701030927836, 0.4467532467532467, 0.2788844621513944, 0.030303030303030307, 0.11428571428571427, 0.14545454545454548, 0.17358490566037735, 0.3157894736842105], [0.5897435897435898, 0.4, 0.4583333333333333, 0.5933503836317136, 0.5742574257425742, 0.41860465116279066, 0.5734265734265734, 0.46846846846846846, 0.4334975369458128, 0.5333333333333333], [0.4752475247524753, 0.08823529411764706, 0.2717391304347826, 0.5347043701799487, 0.3905325443786982, 0.18181818181818182, 0.3018867924528302, 0.3063583815028902, 0.2222222222222222, 0.21428571428571427], [0.6391752577319588, 0.32558139534883723, 0.4347826086956522, 0.622478386167147, 0.62890625, 0.4225352112676056, 0.5945945945945945, 0.5381165919282511, 0.48132780082987553, 0.5714285714285714], [0.5399999999999999, 0.05970149253731343, 0.26900584795321636, 0.5557986870897156, 0.45290581162324656, 0.13559322033898305, 0.24083769633507848, 0.3032069970845481, 0.2782608695652174, 0.35294117647058826]]
    #all_auc=[[0.6070240846764169, 0.20716594144279066, 0.27104117057911403, 0.5043361804713115, 0.5708566931330711, 0.23439716001728136, 0.6370039898932359, 0.38232347150403506, 0.3844513691544385, 0.4452742689419875], [0.5657423597744634, 0.23485419032710422, 0.32849503134457936, 0.5053412666166364, 0.5955284426230076, 0.19693694962184474, 0.687217125899687, 0.4364988689494644, 0.3965572615626481, 0.1269929122217729], [0.23254563152785487, 0.023153718340166794, 0.0535905022789931, 0.22296790085070078, 0.1409400134687303, 0.01488580064728547, 0.035098616348965564, 0.09333639117152434, 0.07157681237439108, 0.004350251830871045], [0.6125798696967549, 0.2654151933847651, 0.3300777288750883, 0.5329984792870347, 0.5826281047577552, 0.09775175369716756, 0.6738819570162494, 0.4444059813878943, 0.4124239321459059, 0.13969885781388203], [0.21143445688004134, 0.028382918336852463, 0.07794146948146048, 0.26113423587071244, 0.1898397114744293, 0.058002890340970524, 0.05078425884571744, 0.1314558321358016, 0.07184159234274315, 0.008719197452486302], [0.5525158761696523, 0.22082744913701902, 0.40203898645935426, 0.5432501633769975, 0.6029404429505361, 0.10661292072534304, 0.6096333853649013, 0.43652147971778, 0.4805356630656467, 0.445353248330796], [0.28961404960013853, 0.03595892114677149, 0.15689224838733015, 0.32192331113243766, 0.22765602931473822, 0.018996966360377586, 0.07040854491592399, 0.154403317767191, 0.11961984503500708, 0.024844199112396107], [0.585140390623468, 0.2789140535461933, 0.3167889461214099, 0.5297735850236024, 0.6050835334148849, 0.15115560775531273, 0.655359611804697, 0.44333498389559295, 0.39444313254698105, 0.28815961260372325], [0.3269207009924009, 0.037886143463814956, 0.10413153569347897, 0.3147627307635489, 0.2732954735649494, 0.018141523459302825, 0.07427893034594446, 0.09892617227217897, 0.09473281624921243, 0.0733043041259458], [0.6464813722194861, 0.2576195259388777, 0.4078350850270959, 0.6179799250862963, 0.6296480472249019, 0.2668989237022135, 0.6877948092503992, 0.4410712948839055, 0.47599522533293653, 0.2893496359042042], [0.35791847662496107, 0.08418435791885664, 0.2652595877634455, 0.5007365390481318, 0.36165447340509693, 0.03834541207317997, 0.1812736327532721, 0.17251760274749453, 0.20549922500327839, 0.07127619341496877], [0.6382060203434767, 0.3443672952303418, 0.4466653353277107, 0.642271739163582, 0.6107227195114425, 0.16559814266713635, 0.65946005992609, 0.3849115539825222, 0.5153665369271092, 0.38955659514283025], [0.3872948375516046, 0.13724160106380934, 0.31829021941713354, 0.537814984999342, 0.39234428123480375, 0.04389254889235822, 0.18769911638112052, 0.15687683275973255, 0.1463421547144666, 0.08818971273537177]]
    
    #FROM THIS POINT ON, NO BALANCING 
    #10FCV for th,f1,auc only... here we do not fit the regularization parameter
    all_f1=[[0.6556737948958063, 0.3518652055255499, 0.3795841645920436, 0.549176204894451, 0.5789704250059836, 0.3729085652049978, 0.6082129397214457, 0.3838042258924067, 0.47141182889841654, 0.3552941176470588], [0.6770128172481112, 0.32260723923814705, 0.4258148538193275, 0.581979996140751, 0.5824666231933093, 0.38245541082700907, 0.6298489208111324, 0.49253146155884037, 0.49191051381956685, 0.3737121212121212], [0.6795186295088805, 0.35921243136273795, 0.4628153323873126, 0.5899486808225063, 0.6025184101820995, 0.42667586777097954, 0.6228868130109969, 0.4803430768690312, 0.4979821926169613, 0.39061688311688314], [0.7095845936305046, 0.3599902693724285, 0.5084100547196745, 0.6004713596144639, 0.5945352399662729, 0.40700632700632705, 0.6489394212660036, 0.5365335455829332, 0.5247245445585145, 0.4824242424242424], [0.6993007033065126, 0.3736986770093731, 0.4375730033549597, 0.5795296024684402, 0.5845897164145153, 0.3824825578120533, 0.6236453598005782, 0.4488744125466604, 0.4847058166188491, 0.4007936507936508], [0.7021512989934042, 0.3926306718666825, 0.5193956972195262, 0.6465481091588493, 0.6183764328480092, 0.41404581529581524, 0.6554941847197098, 0.5213534482607143, 0.5511686435401714, 0.4556565656565657], [0.7110634859352484, 0.4061959355753725, 0.5433072309208203, 0.6511009770847992, 0.624694469298242, 0.4393624637081987, 0.6438725504226808, 0.5455418560262587, 0.5501524533999349, 0.4945454545454545]]
    all_auc=[[0.6560657764575089, 0.4005237423294933, 0.31553849929481154, 0.5492542981299355, 0.5656441752931148, 0.4217523622171025, 0.6416824073999134, 0.4358411943937576, 0.365286953319011, 0.4483805508867723], [0.6610079006869399, 0.4276537441611282, 0.37857152273041283, 0.5588774961196107, 0.5789882627180412, 0.39519932752597625, 0.6993218098031249, 0.45849281722284224, 0.4084880556603652, 0.49422664369389013], [0.6790903807417551, 0.43979079605436944, 0.41939963758751786, 0.5539437822264894, 0.5927671300842838, 0.3921533328619994, 0.7108646077877404, 0.491457029128887, 0.43265237639423315, 0.5967966423764546], [0.6876185874662757, 0.4451808738639924, 0.4739063975323525, 0.5785485537210223, 0.5947597913128998, 0.4147858165960563, 0.6942773045644743, 0.5280816756576303, 0.46303057057632263, 0.584113192160468], [0.6629061969526194, 0.423194063613953, 0.3842599011848688, 0.5728631007428218, 0.580721817831354, 0.4481896984956064, 0.6601589258959892, 0.4725050402809563, 0.4267605799502584, 0.5310979031112104], [0.7265941540676157, 0.45213429144378414, 0.5076321877648636, 0.6306896622553512, 0.6184028411311567, 0.4579720855629833, 0.7356058760930495, 0.5462616644269886, 0.513919113177346, 0.6091002366975984], [0.722864302987255, 0.5150243355697846, 0.5326678743325902, 0.6536821417901147, 0.6419275483864852, 0.4661073819656659, 0.7128603149339086, 0.5544380531293391, 0.529648969578699, 0.5803492621156561]]
    #10FCV10FCV for th,f1,auc and for C tunning- here we fit the regularization parameter using again 10FCV... effectively this runs 100 times per variable, not fast
    #all_f1=
    
    all_f1=np.array(all_f1)
    all_auc=np.array(all_auc)
    
    
    
    utt_types=["Turn_Taking",#2
                 "Metacognitive",#3
                 "Behavior",#4
                 "T_OpenQuestion",#5
                 "T_CloseQuestion",#6
                 "St_OpenQuestion",#7
                 "St_CloseQuestion",#8
                 "St_CloseResponse",#9
                 "St_OpenResponse",#10
                 "St_ExpEvi"]    
    #embedding_types=["no_embed","20","20_no_feat","50","50_no_feat","128","128_no_feat","250","250_no_feat","512","512_no_feat","512t","512t_no_feat"]
    embedding_types=["no_embed","20","50","128","250","512","512t"]

    get_bar_plots_grouped_embeddingtype("F1-Scores-10FCV10FCV",all_f1, utt_types, embedding_types)
    get_bar_plots_grouped_embeddingtype("AUC-10FCV10FCV",all_auc, utt_types, embedding_types)